(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{270:function(e,t,n){},477:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(1),c=n.n(r),s=n(16),i=n.n(s),o=(n(270),n(509)),u=n(517),l=n(514),p=n(58),j=n(22),b=n(50),d=(n(271),n(518)),h=Object(o.a)((function(e){return{input:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}}}));function O(e){var t=e.type,n=e.name,r=e.inputRef,c=e.error,s=e.helperText,i=e.placeholder,o=h();return Object(a.jsx)(d.a,{type:t,inputRef:r,name:n,className:o.input,variant:"outlined",error:c,helperText:s,placeholder:i},n)}var m=n(59),g=n(229),x="/",f="/chart",v="/signup";function w(e){var t=e.children,n=Object(g.a)(e,["children"]);return localStorage.getItem("token")?c.a.cloneElement(t,Object(m.a)({},n)):Object(a.jsx)(j.a,{to:x})}var y=n(515),C=Object(o.a)((function(e){return{headerContainer:{padding:e.spacing(2),marginBottom:"20px"}}}));function k(e){var t=e.title,n=C();return Object(a.jsx)(l.a,{className:n.headerContainer,item:!0,xs:12,children:Object(a.jsx)(l.a,{container:!0,justify:"center",children:Object(a.jsx)(y.a,{variant:"h3",component:"h1",children:t})})})}var S=n(522),I=Object(o.a)((function(){return{logOutButton:{width:"150px"}}}));function N(){var e=I(),t=Object(j.g)();return Object(a.jsx)(S.a,{className:e.logOutButton,color:"secondary",variant:"contained",onClick:function(){localStorage.removeItem("token"),t.push(x)},children:"Log Out"})}var B=n(54);function P(e){var t=e.data;return Object(a.jsx)(B.d,{width:"95%",children:Object(a.jsxs)(B.c,{data:t,children:[Object(a.jsx)(B.b,{type:"monotone",dataKey:"value",stroke:"#8884d8",isAnimationActive:!1}),Object(a.jsx)(B.e,{}),Object(a.jsx)(B.a,{stroke:"#ccc"}),Object(a.jsx)(B.f,{dataKey:"label"}),Object(a.jsx)(B.g,{dataKey:"value"})]})})}var E=Object(o.a)((function(){return{companySelector:{width:"200px",marginRight:"20px",marginLeft:"20px"}}}));function T(e){var t=e.onChange,n=e.value,r=e.label,c=E();return Object(a.jsx)(d.a,{variant:"outlined",className:c.companySelector,label:r,value:n,onChange:t})}var U=n(519),R=n(513),H=Object(o.a)((function(){return{newsContainer:{},newsItemContainer:{padding:"10px",marginBottom:"10px"},image:{width:"100%",height:"auto"}}}));function A(e){var t=e.title,n=e.description,r=e.date,c=e.url,s=e.imageUrl,i=H();return Object(a.jsxs)(R.a,{className:i.newsItemContainer,elevation:3,children:[Object(a.jsx)(y.a,{variant:"h5",children:Object(a.jsx)("a",{href:c,children:t})}),Object(a.jsx)(y.a,{variant:"body1",children:n}),Object(a.jsx)(y.a,{variant:"body1",children:Object(U.a)(r,"dd MMM yyyy HH:mm:ss")}),Object(a.jsx)("img",{className:i.image,src:s,alt:"image url"})]})}function J(e){return e.news.map((function(e,t){return Object(a.jsx)(A,Object(m.a)({},e),t)}))}var K=n(12),M=n.n(K),q=n(24),F=n(227),L=n(151);function $(e,t){return z.apply(this,arguments)}function z(){return(z=Object(q.a)(M.a.mark((function e(t,n){var a,r,c,s,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n);case 2:return a=e.sent,e.next=5,a.json();case 5:if(r=e.sent,c=r.data,s=r.status,i=r.error,s){e.next=11;break}throw new Error(i);case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(q.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("/api/users/signIn",{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,console.log({data:n}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return W.apply(this,arguments)}function W(){return(W=Object(q.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("/api/users/signUp",{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=n(520),Q=n(516),X=n(223),Y=n(96),_=Y.a().shape({email:Y.b().required("Please Enter your Email").email("Email is not valid"),password:Y.b().required("Please Enter your Password").when("$isSignUp",(function(e,t){return e?t.matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,}$/,"Must Contain at least 8 Characters, One Uppercase, One Lowercase, One Number and one special case Character"):t})),passwordRepeat:Y.b().when("$isSignUp",(function(e,t){return e?t.required("Please Confirm your Password").test("match","Passwords do not match",(function(){return this.parent.password===this.parent.passwordRepeat})):t}))}),ee=Object(o.a)((function(e){return{container:{},headerContainer:{padding:e.spacing(2)},signInButton:{marginBottom:e.spacing(2)}}})),te=[{name:"email",placeholder:"E-mail",type:"text"},{name:"password",placeholder:"Password",type:"password"}],ne=[{name:"email",placeholder:"E-mail",type:"text "},{name:"password",placeholder:"Password",type:"password"},{name:"passwordRepeat",placeholder:"Password Repeat",type:"password"}];function ae(e){var t=e.type,n=e.title,c=e.annotationText,s=e.submitButtonTitle,i=ee(),o=Object(j.h)(),u=Object(j.g)(),p=Object(L.useForm)({defaultValues:{email:"",password:"",passwordRepeat:""},resolver:Object(F.yupResolver)(_),context:{isSignUp:"signUp"===t}}),d=p.handleSubmit,h=p.register,g=p.errors,x=p.reset;Object(r.useEffect)((function(){localStorage.getItem("token")&&u.push(f)}),[u]),Object(r.useEffect)((function(){x()}),[o,x]);var v=function(){var e=Object(q.a)(M.a.mark((function e(t){var n,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t);case 3:n=e.sent,a=n.token,localStorage.setItem("token",a),u.push(f),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),b.b.error("Incorrect login or password",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(q.a)(M.a.mark((function e(t){var n,a,r,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,a=t.password,e.prev=1,e.next=4,V({email:n,password:a});case 4:return e.next=6,D({email:n,password:a});case 6:r=e.sent,c=r.token,localStorage.setItem("token",c),u.push(f),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),b.b.error("Something went wrong during registration",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(q.a)(M.a.mark((function e(n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","signIn"===t?v(n):w(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I="signUp"===t?ne:te;return Object(a.jsxs)(l.a,{className:i.container,container:!0,spacing:2,justify:"center",alignContent:"center",children:[Object(a.jsx)(k,{title:n}),Object(a.jsx)(l.a,{item:!0,xs:3,children:Object(a.jsxs)(l.a,{container:!0,justify:"center",direction:"column",children:[I.map((function(e){return Object(a.jsx)(O,Object(m.a)(Object(m.a)({},e),{},{error:!!g[e.name],helperText:!!g[e.name]&&g[e.name].message,inputRef:h}),e.name)})),Object(a.jsx)(S.a,{className:i.signInButton,color:"primary",variant:"outlined",onClick:d(C),children:s}),Object(a.jsx)(y.a,{align:"center",variant:"overline",children:c})]})})]})}var re=n(13),ce=n(25),se=n(524),ie=n(228),oe=n(525),ue=n(521),le=Object(o.a)((function(e){return{container:{marginTop:"-100px"},contentContainer:{height:"350px"},controlsContainer:{marginBottom:"20px",display:"flex"},newsContainer:{overflow:"scroll",height:"350px"},loader:{minHeight:"500px",flex:1,display:"flex",justifyContent:"center",alignItems:"center"}}})),pe=n(84),je=n(523),be=new pe.b,de=new pe.b,he=be.pipe(Object(se.a)(500)),Oe=de.pipe(Object(se.a)(500),Object(ie.a)((function(e){return e.split(",").map((function(e){return e.trim()})).join(",")})));function me(){var e=le(),t=Object(r.useState)(""),n=Object(ce.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(""),o=Object(ce.a)(i,2),u=o[0],p=o[1],j=Object(r.useState)([]),d=Object(ce.a)(j,2),h=d[0],O=d[1],m=Object(r.useState)([]),g=Object(ce.a)(m,2),x=g[0],f=g[1];Object(r.useEffect)((function(){var e=be.subscribe(s),t=de.subscribe(p),n=he.pipe(Object(oe.a)((function(){return O([])})),Object(ue.a)((function(e){return e.length?function(e){var t=localStorage.getItem("token");return Object(G.a)("ws://localhost:8000/stockPrice?token=".concat(t,"&stockSymbol=").concat(e)).pipe(Object(Q.a)((function(t){return b.b.error("Can't connect to ".concat(e," price"),{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}),X.a})))}(e):X.a}))).subscribe((function(e){O((function(t){return[].concat(Object(re.a)(t),[{label:Object(U.a)(new Date,"HH:mm:ss"),value:e}])}))})),a=Object(je.a)(he,Oe).pipe(Object(oe.a)((function(){return f([])})),Object(ue.a)((function(e){var t=Object(ce.a)(e,2),n=t[0],a=t[1];return n.length&&a.length?function(e,t){var n=localStorage.getItem("token");return Object(G.a)("ws://localhost:8000/hypes?token=".concat(n,"&stockSymbol=").concat(e,"&keywords=").concat(t)).pipe(Object(Q.a)((function(t){return b.b.error("Can't connect to ".concat(e," hypes"),{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}),X.a})))}(n,a):X.a}))).subscribe((function(e){f((function(t){return[].concat(Object(re.a)(t),[{title:e.title,description:e.summary,date:e.datetime,url:e.url,imageUrl:e.imageUrl}])}))}));return function(){n.unsubscribe(),e.unsubscribe(),a.unsubscribe(),t.unsubscribe()}}),[]);return Object(a.jsxs)(l.a,{className:e.container,container:!0,spacing:2,justify:"center",alignItems:"center",children:[Object(a.jsx)(k,{title:"Chart Page"}),Object(a.jsxs)(l.a,{container:!0,children:[Object(a.jsx)(l.a,{item:!0,xs:11,children:Object(a.jsxs)(l.a,{container:!0,justify:"flex-end",className:e.controlsContainer,children:[Object(a.jsx)(T,{label:"Enter Symbol",value:c,onChange:function(e){be.next(e.target.value)}}),Object(a.jsx)(T,{label:"Enter Keywords",value:u,onChange:function(e){de.next(e.target.value)}}),Object(a.jsx)(N,{})]})}),Object(a.jsx)(l.a,{item:!0,xs:1})]}),Object(a.jsxs)(l.a,{container:!0,className:e.contentContainer,children:[Object(a.jsx)(l.a,{item:!0,xs:1}),Object(a.jsx)(l.a,{className:e.chartContainer,item:!0,xs:7,children:Object(a.jsx)(P,{data:h})}),Object(a.jsx)(l.a,{className:e.newsContainer,item:!0,xs:3,children:Object(a.jsx)(J,{news:x})}),Object(a.jsx)(l.a,{item:!0,xs:1})]})]})}var ge=Object(o.a)((function(){return{container:{height:"100vh",overflow:"hidden"},content:{height:"100%"}}}));var xe=function(){var e=ge();return Object(a.jsxs)("div",{children:[Object(a.jsx)(u.a,{maxWidth:"xl",className:e.container,children:Object(a.jsx)(l.a,{className:e.content,container:!0,alignItems:"center",justify:"center",children:Object(a.jsx)(p.a,{children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{exact:!0,path:v,children:Object(a.jsx)(ae,{title:"Sign Up",submitButtonTitle:"Sign Up",type:"signUp",annotationText:Object(a.jsxs)(a.Fragment,{children:["Already have an account? Sign in"," ",Object(a.jsx)(p.b,{to:x,children:"here"})]})})}),Object(a.jsx)(w,{exact:!0,path:f,children:Object(a.jsx)(me,{})}),Object(a.jsx)(j.b,{exact:!0,path:"*",children:Object(a.jsx)(ae,{title:"Sign In",submitButtonTitle:"Sign In",type:"signIn",annotationText:Object(a.jsxs)(a.Fragment,{children:["Don't have an account? Sign up"," ",Object(a.jsx)(p.b,{to:v,children:"here"})]})})})]})})})}),Object(a.jsx)(b.a,{})]})};i.a.render(Object(a.jsx)(xe,{}),document.getElementById("root"))}},[[477,1,2]]]);
//# sourceMappingURL=main.d0b001ab.chunk.js.map